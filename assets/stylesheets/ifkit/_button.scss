// Interface kit: buttons
@import 'ifkit/settings';
@import 'compass/css3';

@mixin if-button-color(
  $bg,
  $strength: 0.8,
  $border-strength: 0.8,
  $hover-strength: 1.02,
  $active-strength: 0.9,
  $highlight_opacity: 0.25
) {
  $hover_bg:  $bg * $hover-strength;
  $active_bg: $bg * $active-strength;

  & {
    cursor: pointer;

    @include box-sizing(content-box);
    display: inline-block;

    border: 0;

    background-color: $bg;
    @include background(linear-gradient($bg, $bg * $strength));
    @include box-shadow(
      inset 0 1px 0 rgba(white, $highlight_opacity),
      inset 1px 0 0 rgba(white, $highlight_opacity * 0.6));

    position: relative; }

  &:hover {
    background-color: $hover_bg;
    @include background(linear-gradient($hover_bg, $hover_bg * $strength)); }

  &:active {
    background: $active_bg;
    @include box-shadow(inset 1px 1px 5px rgba(black, 1.5 * (1.0 - $strength))); }

  &:disabled, &.disabled {
    cursor: default; }

  @if $border-strength != none {
    $border_bg: $bg * $border-strength;
    $border_hover_bg: $border_bg * $strength;

    // Border
    &:before {
      content: '';
      display: block;
      position: absolute;
      left: -1px;
      top: -1px;
      bottom: -1px;
      right: -1px;
      z-index: -1;

      background-color: $border_bg;
      @include background(linear-gradient(top, $border_bg, $border_bg * $strength)); }

    &:hover:before {
      background-color: $border_hover_bg;
      @include background(linear-gradient(top, $border_hover_bg, $border_hover_bg * $strength)); } } }

@mixin if-button-height($height: 24px, $padding: 4px 10px) {
  height: $height;
  line-height: $height;
  padding: $padding; }

@mixin if-button-radius($left: 1px, $right: $left) {
  $left_outer: 0;
  $right_outer: 0;

  @if $left != none {
    @if $left > 0 {
      $left_outer: $left + 1; }

    & {
      @include border-left-radius($left); }

    &:before {
      @include border-left-radius($left_outer); } }

  @if $right != none {
    @if $right > 0 {
      $right_outer: $right + 1; }

    & {
      @include border-right-radius($right); }

    &:before {
      @include border-right-radius($right_outer); } } }

@mixin if-button-shadow($shadow: 1px 1px 1px rgba(black, 0.1)) {
  &:before {
    @include box-shadow($shadow); } }

